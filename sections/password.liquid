<section class="password-section color-{{ section.settings.color_scheme }}">
  <div class="password-section__wrapper page-width">
    <div class="password-section__content">
      {% if section.settings.show_logo %}
        <div class="password-section__logo">
          {% if settings.logo != blank %}
            <img src="{{ settings.logo | image_url: width: 300 }}" alt="{{ shop.name }}" width="300" loading="lazy">
          {% else %}
            <h1 class="h2">{{ shop.name }}</h1>
          {% endif %}
        </div>
      {% endif %}

      {% if section.settings.heading != blank %}
        <h2 class="password-section__heading h1">{{ section.settings.heading }}</h2>
      {% endif %}

      {% if section.settings.text != blank %}
        <div class="password-section__text rte">{{ section.settings.text }}</div>
      {% endif %}

      {% form 'storefront_password' %}
        <div class="password-section__form">
          <label for="password" class="visually-hidden">{{ 'general.password_page.password_label' | t }}</label>
          <input type="password" id="password" name="password" placeholder="{{ 'general.password_page.password_placeholder' | t }}" required>
          <button type="submit" class="button button--primary">{{ 'general.password_page.enter' | t }}</button>
        </div>
        {% if form.errors %}
          <p class="password-section__error">{{ form.errors.messages.password }}</p>
        {% endif %}
      {% endform %}
    </div>
  </div>
</section>

<style>
  .password-section {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2rem;
  }
  .password-section__content {
    text-align: center;
    max-width: 500px;
  }
  .password-section__logo {
    margin-bottom: 2rem;
  }
  .password-section__logo img {
    max-width: 200px;
    height: auto;
  }
  .password-section__heading {
    margin-bottom: 1rem;
  }
  .password-section__text {
    margin-bottom: 2rem;
    opacity: 0.8;
  }
  .password-section__form {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    justify-content: center;
  }
  .password-section__form input {
    flex: 1;
    min-width: 200px;
    padding: 0.75rem 1rem;
    border: 1px solid #ddd;
    border-radius: 4px;
  }
  .password-section__error {
    color: #c00;
    margin-top: 1rem;
  }
</style>

{% schema %}
{
  "name": "Password",
  "class": "section-password",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_logo",
      "label": "Show logo",
      "default": true
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Opening soon"
    },
    {
      "type": "richtext",
      "id": "text",
      "label": "Text",
      "default": "<p>Be the first to know when we launch.</p>"
    },
    {
      "type": "select",
      "id": "color_scheme",
      "label": "Color scheme",
      "options": [
        { "value": "scheme-1", "label": "Scheme 1" },
        { "value": "scheme-2", "label": "Scheme 2" },
        { "value": "scheme-3", "label": "Scheme 3" }
      ],
      "default": "scheme-1"
    }
  ],
  "presets": [
    {
      "name": "Password"
    }
  ]
}
{% endschema %}
